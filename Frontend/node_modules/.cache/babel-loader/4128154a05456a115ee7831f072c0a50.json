{"ast":null,"code":"import _defineProperty from \"/home/ubuntu/Desktop/React/Capstone Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/ubuntu/Desktop/React/Capstone Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/ubuntu/Desktop/React/Capstone Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/ubuntu/Desktop/React/Capstone Project/src/Components/Payment.js\";\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport React from 'react';\nimport { useHistory } from \"react-router-dom\";\n\nvar Payment = function Payment() {\n  var totalPayment = localStorage.getItem('totalPayment');\n  var paymentUrl = \"http://localhost:5555/user/na/pay\";\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      payment = _useState2[0],\n      setPayment = _useState2[1];\n\n  var history = useHistory();\n  useEffect(function () {\n    setPayment({\n      \"userName\": localStorage.getItem(\"name\"),\n      \"totalPayment\": totalPayment\n    });\n  }, []);\n\n  var handleAddAppUser = function handleAddAppUser(evt) {\n    evt.preventDefault();\n    setPayment(_objectSpread({}, payment, _defineProperty({}, evt.target.name, evt.target.value)));\n  };\n\n  var savePayment = function savePayment() {\n    console.log(payment);\n    axios.post(paymentUrl, payment).then(function (response) {\n      console.log(response.data);\n      alert(\"payment done successfully\");\n      history.push(\"/search\");\n    }).catch(function () {\n      alert(\"cannot process request at the moment\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"center\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 border border-light shadow p-3 mb-5 bg-white\",\n    style: {\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"text-dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Hi, \", localStorage.getItem(\"name\")), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \"Enter Payment Details\")), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control mt-3\",\n    type: \"text\",\n    id: \"cardNumber\",\n    name: \"cardNumber\",\n    value: payment.cardNumber,\n    onChange: handleAddAppUser,\n    placeholder: \"Valid Card Number\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input mt-3\",\n    type: \"text\",\n    id: \"expityMonth\",\n    name: \"expMonth\",\n    value: payment.expMonth,\n    placeholder: \"MM\",\n    onChange: handleAddAppUser,\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input mt-3\",\n    type: \"text\",\n    id: \"expityYear\",\n    name: \"expYear\",\n    value: payment.expYear,\n    placeholder: \"YYYY\",\n    onChange: handleAddAppUser,\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    class: \"form_input mt-3\",\n    name: \"cvv\",\n    value: payment.cvv,\n    id: \"cvCode\",\n    placeholder: \"CVV\",\n    onChange: handleAddAppUser,\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      'background': '#7FB3D5'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      'margin': '15px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 46\n    }\n  }, \"Total Payment : \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-inr\",\n    \"aria-hidden\": \"true\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 65\n    }\n  }), totalPayment, \"/-\"))), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-success btn-md btn-block\",\n    type: \"submit\",\n    onClick: function onClick() {\n      if (window.confirm('Are you sure you want to proceed?')) {\n        savePayment();\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Pay\"))));\n};\n\nexport default Payment;","map":{"version":3,"names":["useEffect","useState","axios","React","useHistory","Payment","totalPayment","localStorage","getItem","paymentUrl","payment","setPayment","history","handleAddAppUser","evt","preventDefault","target","name","value","savePayment","console","log","post","then","response","data","alert","push","catch","textAlign","cardNumber","expMonth","expYear","cvv","window","confirm"],"sources":["/home/ubuntu/Desktop/React/Capstone Project/src/Components/Payment.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport React from 'react';\nimport { useHistory, } from \"react-router-dom\";\n\n\nconst Payment =()=>{\n    const totalPayment =localStorage.getItem('totalPayment');\n    const paymentUrl = `http://localhost:5555/user/na/pay`;\n    const [payment, setPayment] = useState({});\n    const history = useHistory();\n\n    \n    useEffect(() => {\n        setPayment({\n            \"userName\":localStorage.getItem(\"name\"),\n            \"totalPayment\":totalPayment\n        });\n        \n    }, [])\n    const handleAddAppUser = (evt) => {\n        evt.preventDefault();\n        setPayment(\n            {\n                ...payment,\n                [evt.target.name]: evt.target.value\n            });\n    }\n    const savePayment = () => {\n        \n        console.log(payment)\n        axios.post(paymentUrl, payment)\n            .then((response) => {\n                console.log(response.data);\n                alert(`payment done successfully`);\n                history.push(\"/search\");\n            })\n            .catch(() => {\n                alert(\"cannot process request at the moment\");\n            });\n    }\n\n    return(<center>\n        <div class=\"container\" >\n            <div className=\"col-6 border border-light shadow p-3 mb-5 bg-white\" style={{textAlign:\"center\"}}>\n            <h5 className=\"text-dark\">Hi, {localStorage.getItem(\"name\")}</h5>\n            <h4><b>Enter Payment Details</b></h4>\n            <input className=\"form-control mt-3\" type=\"text\" id=\"cardNumber\" name=\"cardNumber\" value={payment.cardNumber} onChange={handleAddAppUser} placeholder=\"Valid Card Number\" />\n            <input className=\"form-input mt-3\" type=\"text\" id=\"expityMonth\" name=\"expMonth\" value={payment.expMonth} placeholder=\"MM\" onChange={handleAddAppUser} required />\n            <input className=\"form-input mt-3\" type=\"text\" id=\"expityYear\" name=\"expYear\" value={payment.expYear} placeholder=\"YYYY\" onChange={handleAddAppUser} required />\n            <input type=\"password\" class=\"form_input mt-3\" name=\"cvv\" value={payment.cvv} id=\"cvCode\" placeholder=\"CVV\" onChange={handleAddAppUser}required />\n            <div style={{'background':'#7FB3D5'}}>\n                <p style={{'margin':'15px'}}><b>Total Payment : <i class=\"fa fa-inr\" aria-hidden=\"true\"></i>{totalPayment}/-</b></p>\n                </div>           \n            <button class=\"btn btn-success btn-md btn-block\" type=\"submit\" onClick={()=>{if (window.confirm('Are you sure you want to proceed?')){savePayment()}}}>Pay</button>\n</div>\n</div>\n</center> );\n}\nexport default Payment"],"mappings":"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"},"metadata":{},"sourceType":"module"}