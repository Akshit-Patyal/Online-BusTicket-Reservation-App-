{"ast":null,"code":"import _slicedToArray from \"/home/ubuntu/Desktop/React/MyApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/ubuntu/Desktop/React/MyApp/src/Components/Viewfav.js\";\n\nimport { useState, useEffect } from \"react\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport DemoGetData from \"./DemoGetData\";\n\nvar Viewfav = function Viewfav() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      appNews = _useState2[0],\n      setappNews = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      appNewsCat = _useState4[0],\n      setappNewsCat = _useState4[1];\n\n  var dataUrl = \"http://localhost:2422/news/favs\";\n  var deleteUrl = \"http://localhost:2422/news/delete\"; // var app = app();\n  // const cors = require('cors');\n  // app.use(cors());\n\n  useEffect(function () {\n    //------------------------------------------------------for loading all data from api\n    axios.get(\"\".concat(dataUrl, \"/\").concat(localStorage.getItem(\"name\"))).then(function (response) {\n      console.log(response.data);\n      setappNews(response.data);\n    }).catch(function (e) {\n      alert(\"Initialization failed: \" + e);\n      setappNews([]);\n    });\n  }, []);\n\n  var deleteData = function deleteData(title, e) {\n    axios.delete(\"\".concat(deleteUrl, \",/\").concat(localStorage.getItem(\"name\"), \",/\").concat(title)).then(function (response) {\n      console.log(title);\n      alert('Article deleted successfully');\n    }).catch(function () {\n      alert('Sorry could not be deleted');\n    });\n  }; // const deleteData=(article)=>{\n  //     if(window.confirm(\"Are you sure?\")){\n  //         fetch(deleteUrl+\"/\"+article,{\n  //             method: 'DELETE',\n  //             headers: {'Access-Control-Allow-Origin': '*'}\n  //         }); \n  //         console.log(article)\n  //     }\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"display-4 text-dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Hello \", localStorage.getItem(\"name\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-10 border border-light shadow p-3 mb-5 bg-white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-weight-bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 14\n    }\n  }, \" Your Favourites \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-striped\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 1\n    }\n  }, \"S.no\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 1\n    }\n  }, \"author\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 1\n    }\n  }, \"title\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 1\n    }\n  }, \"description\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 1\n    }\n  }, \"click the url to read more\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 1\n    }\n  }, \"urlToImage\")), appNews.map(function (item, i) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 1\n      }\n    }, i + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 1\n      }\n    }, item.author), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 1\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 1\n      }\n    }, item.description), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: item.url,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }\n    }, \"Read more\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 1\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n      src: item.urlToImage,\n      width: \"100px\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 6\n      }\n    }), \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"form-control mt-3 btn btn-danger\",\n      type: \"submit\",\n      onClick: function onClick() {\n        deleteData(item);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }\n    }, \"delete\")));\n  }))), \" \"))));\n};\n\nexport default Viewfav;","map":{"version":3,"sources":["/home/ubuntu/Desktop/React/MyApp/src/Components/Viewfav.js"],"names":["useState","useEffect","React","axios","DemoGetData","Viewfav","appNews","setappNews","appNewsCat","setappNewsCat","dataUrl","deleteUrl","get","localStorage","getItem","then","response","console","log","data","catch","e","alert","deleteData","title","delete","map","item","i","author","description","url","urlToImage"],"mappings":"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","sourcesContent":["import { useState, useEffect} from \"react\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport DemoGetData from \"./DemoGetData\";\nconst Viewfav=()=>{\n    const [appNews, setappNews] = useState([]);\n    const [appNewsCat, setappNewsCat] = useState([]);\n\n    const dataUrl = `http://localhost:2422/news/favs`;\n    const deleteUrl=`http://localhost:2422/news/delete`\n\n    // var app = app();\n\n    // const cors = require('cors');\n    // app.use(cors());\n   \n\n    useEffect(() => {\n        //------------------------------------------------------for loading all data from api\n         axios.get(`${dataUrl}/${localStorage.getItem(\"name\")}`)\n            .then((response) => {\n                console.log(response.data);\n                setappNews(response.data);\n\n            })\n            .catch((e) => {\n                alert(\"Initialization failed: \"+e);\n                setappNews([]);\n            });\n\n\n    },[]);\n    const deleteData=(title,e)=>{\n        axios.delete(`${deleteUrl},/${localStorage.getItem(\"name\")},/${title}`)\n        .then((response)=>{\n            console.log(title);\n            alert('Article deleted successfully');\n        })\n        .catch(()=>{\n            alert('Sorry could not be deleted');\n    \n        });\n    }\n\n    \n    // const deleteData=(article)=>{\n    //     if(window.confirm(\"Are you sure?\")){\n    //         fetch(deleteUrl+\"/\"+article,{\n    //             method: 'DELETE',\n    //             headers: {'Access-Control-Allow-Origin': '*'}\n    //         }); \n    //         console.log(article)\n    \n    //     }\n    // }\n\n\n    return(\n        <div >\n        <h2 className=\"display-4 text-dark\">Hello {localStorage.getItem(\"name\")}</h2>\n        <div className=\"col-10 border border-light shadow p-3 mb-5 bg-white\">\n        <div><span className=\"font-weight-bold\"> Your Favourites </span>\n{<div><table class=\"table table-striped\">\n<tbody>\n<tr>\n<th scope=\"col\">S.no</th>\n<th scope=\"col\">author</th>\n<th scope=\"col\">title</th>\n<th scope=\"col\">description</th>\n<th scope=\"col\">click the url to read more</th>\n<th scope=\"col\">urlToImage</th>\n</tr>\n{appNews.map((item, i) => (\n<tr key={i}>\n<th scope=\"row\">{i+1}</th>\n<td>{item.author}</td>\n<td>{item.title}</td>\n<td>{item.description}</td>\n<td><a href={item.url}>Read more</a></td>\n<td> <img src={item.urlToImage} width='100px'/> </td>\n<td><button className=\"form-control mt-3 btn btn-danger\" type=\"submit\" onClick={()=>{deleteData(item)}}>delete</button></td>\n</tr>\n))}\n</tbody>\n</table> </div>}\n</div>\n         </div>    \n        </div> \n    )\n}\nexport default Viewfav;\n"]},"metadata":{},"sourceType":"module"}