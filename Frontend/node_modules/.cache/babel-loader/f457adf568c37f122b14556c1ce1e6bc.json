{"ast":null,"code":"import _slicedToArray from \"/home/ubuntu/Desktop/React/Capstone Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/ubuntu/Desktop/React/Capstone Project/src/Components/Cart.js\";\n\nimport { useState, useEffect } from \"react\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport View from \"./View\";\nimport { useHistory } from \"react-router\";\n\nvar Cart = function Cart() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      appBus = _useState2[0],\n      setappBus = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      appBusCat = _useState4[0],\n      setappBusCat = _useState4[1];\n\n  var cartUrl = \"http://localhost:1212/bus/cart\";\n  var deleteUrl = \"http://localhost:1212/bus/delete\"; // var app = app();\n  // const cors = require('cors');\n  // app.use(cors());\n\n  var history = useHistory();\n  useEffect(function () {\n    //------------------------------------------------------for loading all data from api\n    fetchData();\n    setappBusCat({\n      busId: 0,\n      routeFrom: \"\",\n      routeTo: \"\",\n      busType: \"\"\n    });\n  }, []);\n\n  var fetchData = function fetchData() {\n    axios.get(\"\".concat(cartUrl, \"/\").concat(localStorage.getItem(\"name\"))).then(function (response) {\n      console.log(response.data);\n      setappBus(response.data);\n    }).catch(function (e) {\n      alert(\"Initialization failed: \" + e);\n      setappBus([]);\n    });\n  };\n\n  var deleteData = function deleteData(busId) {\n    axios.delete(\"\".concat(deleteUrl, \"/\").concat(localStorage.getItem(\"name\"), \"/\").concat(busId)).then(function (busId) {\n      console.log(busId);\n      alert('deleted successfully');\n      fetchData();\n    }).catch(function (err) {\n      alert('Sorry could not be deleted');\n      console.log(err.response);\n    });\n  }; // const deleteData=(article)=>{\n  //     if(window.confirm(\"Are you sure?\")){\n  //         fetch(deleteUrl+\"/\"+article,{\n  //             method: 'DELETE',\n  //             headers: {'Access-Control-Allow-Origin': '*'}\n  //         }); \n  //         console.log(article)\n  //     }\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"display-4 text-dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"Hello \", localStorage.getItem(\"name\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-10 border border-light shadow p-3 mb-5 bg-white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-weight-bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 14\n    }\n  }, \" Your Cart \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-striped\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 1\n    }\n  }, \"S.no\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 1\n    }\n  }, \"BusId\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 1\n    }\n  }, \"From\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 1\n    }\n  }, \"To\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 1\n    }\n  }, \"Fare\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 1\n    }\n  }, \"Bus Type\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 1\n    }\n  }, \"Availability from\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 1\n    }\n  }, \"Availability till\")), appUse.map(function (item, i) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 1\n      }\n    }, i + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 1\n      }\n    }, item.busId), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 1\n      }\n    }, item.routeFrom), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 1\n      }\n    }, item.routeTo), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 1\n      }\n    }, item.fare), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 1\n      }\n    }, item.busType), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 1\n      }\n    }, item.from), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 1\n      }\n    }, item.till), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"form-control mt-3 btn btn-danger\",\n      type: \"submit\",\n      onClick: function onClick() {\n        deleteData(item.busId);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, \"delete\")));\n  }))), \" \"))));\n};\n\nexport default Cart;","map":{"version":3,"sources":["/home/ubuntu/Desktop/React/Capstone Project/src/Components/Cart.js"],"names":["useState","useEffect","React","axios","View","useHistory","Cart","appBus","setappBus","appBusCat","setappBusCat","cartUrl","deleteUrl","history","fetchData","busId","routeFrom","routeTo","busType","get","localStorage","getItem","then","response","console","log","data","catch","e","alert","deleteData","delete","err","appUse","map","item","i","fare","from","till"],"mappings":"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","sourcesContent":["import { useState, useEffect} from \"react\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport View from \"./View\";\nimport { useHistory } from \"react-router\";\nconst Cart=()=>{\n    const [appBus, setappBus] = useState([]);\n    const [appBusCat, setappBusCat] = useState([]);\n\n    const cartUrl = `http://localhost:1212/bus/cart`;\n    const deleteUrl=`http://localhost:1212/bus/delete`\n\n    // var app = app();\n\n    // const cors = require('cors');\n    // app.use(cors());\n   \n    const history=useHistory();\n\n    useEffect(() => {\n        //------------------------------------------------------for loading all data from api\n        fetchData();\n        setappBusCat({\n            busId:0,\n            routeFrom:\"\",\n            routeTo:\"\",\n            busType:\"\"\n        })\n\n        \n\n\n            \n    },[]);\n    const fetchData = () => {\n        axios.get(`${cartUrl}/${localStorage.getItem(\"name\")}`)\n            .then((response) => {\n                console.log(response.data);\n                setappBus(response.data);\n\n            })\n            .catch((e) => {\n                alert(\"Initialization failed: \"+e);\n                setappBus([]);\n            });\n \n    }\n\n    const deleteData=(busId)=>{\n        axios.delete(`${deleteUrl}/${localStorage.getItem(\"name\")}/${busId}`)\n        .then((busId)=>{\n            console.log(busId);\n            alert('deleted successfully');\n            fetchData();\n        })\n        .catch((err)=>{\n            alert('Sorry could not be deleted');\n            console.log(err.response)\n        });\n    }\n\n    \n    // const deleteData=(article)=>{\n    //     if(window.confirm(\"Are you sure?\")){\n    //         fetch(deleteUrl+\"/\"+article,{\n    //             method: 'DELETE',\n    //             headers: {'Access-Control-Allow-Origin': '*'}\n    //         }); \n    //         console.log(article)\n    \n    //     }\n    // }\n\n\n    return(\n        <div >\n        <h2 className=\"display-4 text-dark\">Hello {localStorage.getItem(\"name\")}</h2>\n        <div className=\"col-10 border border-light shadow p-3 mb-5 bg-white\">\n        <div><span className=\"font-weight-bold\"> Your Cart </span>\n{<div><table class=\"table table-striped\">\n<tbody>\n<tr>\n<th scope=\"col\">S.no</th>\n<th scope=\"col\">BusId</th>\n<th scope=\"col\">From</th>\n<th scope=\"col\">To</th>\n<th scope=\"col\">Fare</th>\n<th scope=\"col\">Bus Type</th>\n<th scope=\"col\">Availability from</th>\n<th scope=\"col\">Availability till</th>\n</tr>\n{appUse.map((item, i) => (\n<tr key={i}>\n<th scope=\"row\">{i+1}</th>\n<td>{item.busId}</td>\n<td>{item.routeFrom}</td>\n<td>{item.routeTo}</td>\n<td>{item.fare}</td>\n<td>{item.busType}</td>\n<td>{item.from}</td>\n<td>{item.till}</td><td><button className=\"form-control mt-3 btn btn-danger\" type=\"submit\" onClick={()=>{deleteData(item.busId)}}>delete</button></td>\n</tr>\n))}\n</tbody>\n</table> </div>}\n</div>\n         </div>    \n        </div> \n    )\n}\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}